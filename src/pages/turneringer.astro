---
import Layout from '../layouts/Layout.astro';
import { getAllTournaments } from '../lib/db';
import TournamentTabs from '../components/TournamentTabs.astro';

const tournaments = getAllTournaments();
const registrationOpen = tournaments.filter(t => t.status === 'registration');
const active = tournaments.filter(t => t.status === 'active');
const completed = tournaments.filter(t => t.status === 'completed');
---

<Layout title="Turneringer - Biljardturnering">
  <div class="mb-8">
    <h1 class="text-4xl font-bold mb-2">Turneringer</h1>
    <p class="text-lg text-muted-foreground">Oversikt over alle biljardturneringer</p>
  </div>

  <TournamentTabs 
    registrationOpen={registrationOpen} 
    active={active} 
    completed={completed} 
  />
</Layout>
